# 객체 지도
> 유일하게 변하지 않는 것은 모든 것이 변한다는 사실뿐이다.
>> 헤라클레이토스

길을 묻는다고 가정
- 기능적이고 해결책 지향적인 접근법
    - 일반적이지도, 재사용 가능하지도 않다.
    - 중요한 랜드마크가 없다면 설명하기 어렵다.
- 구조적이고 문제 지향적인 접근법
    - 실세계의 지형을 기반으로 만들어진 추상화된 모델
    - 지도를 찾는데 필요한 구체적인 기능이 아니라 길을 찾을수 있는 '구조'를 제공한다.

기능을 중심으로 구조를 종속시키는 방법은 범용적이지 않고 재사용 불가능하며 변경에 취약한 모델을 낳게 된다.\
안정적인 구조를 중심으로 기능을 종속 시키는 접근법은 범용적이고 재사용 가능하면 변경에 유연하게 대처할 수 있다.

즉 객체지향은 기능이 아니라 안정적인 구조를 기반으로 시스템을 구조화한다.

## 기능 설계 대 구조 설계
소프트웨어 제품 설계의 두 가지 측면
- 기능 
  - 제품이 사용자를 위해 무엇을 할 수 있는지
- 구조
  - 제품의 형태가 어떠해야 하는지

훌륭한 기능이 훌륭한 소프트웨어를 만드는 충분조건이라고 한다면 훌륭한 구조는 훌륭한 소프트웨어를 만들기 위한 필요조건이다.

성공적인 소프트웨어의 특징은 훌륭한 기능을 제공함과 동시에 사용자가 원하는 새로운 기능을 빠르고 안정적인 추가할 수 있다는 것이다.

객체지향 접근방법은 자주 변경되지 않는 안정ㅈ거인 객체 구조를 바탕으로 시스템 기능을 객체 간의 책임으로 분배한다.

객체 지도는 빠르게 변화하는 기능을 수용할 수 있는 자리를 제공한다. 안정적이며 재사용 가능하면서도 범용적이다.

## 두 가지 재료 : 기능과 구조
**기능**
  - 사용자가 자신의 목표를 달성하기 위해 사용할 수 있는 시스템의 서비스
  - 사용자의 목표를 만족시키기 위해 책임을 수행하는 시스템의 행위
  - 유스케이스 모델링 : 기능을 수집하고 표현하기 위한 기법
  - 유스케이스 : 유스케이스 모델링의 결과물
**구조**
  - 시스템의 기능을 구현하기 위한 기반, 기능 변경을 수용할 수 있도록 안적적이어야 한다.
  - 사용자나 이해관계자들이 도메인에 관해 생각하는 개념들 간의 관계로 표현
  - 도메인 모델링 : 구조를 수집하고 표현하기 위한 기법
  - 도메인 모델 : 도메인 모델링의 결과물

## 안정적인 재료 : 구조
### 도메인 모델
**도메인** : 사용자가 프로그램을 사용하는 대상 분야
**모델** : 대상을 추상화하고 단순화 한것
**도메인 모델**  
  - 소프트웨어가 목적하는 영역 냐의 개념과 개념 간의 관계, 다양한 규칙이나 제약 등을 주의 깊게 추상화한 것
  - 소프트웨어 개발과 관련된 이해관계자들이 도메인에 대해 생각하는 관점
  - 이해 관계자들이 보는 멘탈 모델이다
    - 멘탈 모델 :자기 자신, 다른 사람, 사물, 자신이 상호작용하는 사물들에 대해 갖는 모형

**도널드 노먼의 멘탈 모델**
- 제품을 설계 할 때 제품에 관한 모든 것이 사용자들이 제품에 대해 가지고 있는 멘탈 모델과 정확하게 일치해야 한다고 주장
- 사용자 모델, 디자인 모델, 시스템 이미지로 구분
  - 사용자 모델 : 사용자가 제품에 대해 가지고 있는 개념
  - 디자인 모델 : 설계자가 마음 속에 갖고 있는 개념
  - 시스템 이미지 : 최종 제품

도메인 모델 : 도메인에 대한 사용자 모델, 디자인 모델, 시스템 이미지를 포괄하도록 추상화한 소프트웨어 모델 따라서 도메인 모델은 소프트웨어에 대한 멘탈 모델

### 도메인의 모습을 담을 수 있는 객체지향
**표현적 차이(연결 완정성)** 
객체지향을 이용하면 도메인에 대한 사용자 모델, 디자인 모델, 시스템 이미지가 모두가 유사한 모습을 유지하도록 만드는 것이 가능하다.

### 표현적 차이
소프트웨어의 객체는 현실 객체에 대한 추상화가 아니다.\
현실 객체를 모방한 것이 아닌 은유한것이다. 따라서 소프트웨어 객체는 현실 객체가 갖지 못한 특성을 가질 수도 있고 객체가 가지지 못한 행동을 할 수 있다.
이처럼 현실 객체와 소프트웨어 객체의 의미적 거리를 **표현적 차이**, **의미적 차이**라고 한다.

**표현적 차이가 중요한 이유**
소프트웨어을 이해하고 수정하기 쉽게 만들어준다.

### 불안정한 기능을 담는 안정적인 도메인 모델
**도메인 모델의 핵심**
사용자가 도메인을 바라보는 관점을 반영해 소프트웨어를 설계하고 구현하는 것

**사용자의 관점을 반영해야하는 이유**
- 사용자들이 누구보다도 도메인의 '본질적인' 측면을 가장 잘 이해하기 때문에
  - 본질적이라는 것은 변경이 적고 그 특성이 오랜 기간 유지된다느 것이다.
  - 사용자 모델을 기반으로 코드를 만들면 변경에 쉽고 대처할 수 있을 가능성이 커진다.
  - 도메인 모델이 기능을 담을 수 있는 안정적인 구조를 제공할 수 있음을 의미한다.
  - 안정적인 구조를 기반으로 자주 변경되는 기능을 배치함으로써 기능의 변경에 대해 안정적인 소프트웨어를 구현 가능
- 도메인을 구성하는 중요한 개념과 개념 간의 관계를 가장 잘 알고 있음

## 불안정한 재료 : 기능
### 유스케이스
사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것을 **유스케이스**라고 한다.

**유스케이스의 가치**
사용자들의 목표를 중심으로 시스템의 기능적인 요구사항들을 이야기 형식으로 묶을 수 있다.

>사용자 목표가 유스케이스의 핵심이다. 유스케이스는 공통의 사용자 목표를 통해 강하게 연관된 시나리오 집합이다.
> > 마티 파울러(Martin Fowler)

### 유스케이스의 특성
**유스케이스의 특성**
1. 유스케이스는 사용자와 시스템 간의 상호작용을 보여주는 '텍스트'다.
   - 다이어그램이 아닌 사용자와 시스템 간의 상호작용을 일련의 이야기 흐름으로 표현한 것이다.
2. 유스케이스는 하나의 시나리오가 아닌 여러 시나리오의 집합이다.
   - 시나리오 : 유스케이스를 통해 시스템을 사용하는 하나의 특정한 이야기 또는 경로
   - 시나리오를 유스케이스 인스턴스라고도 한다.
3. 유스케이스는 단순한 피처(feature) 목록과 다르다.
   - 단순한 기능을 나열하는 것이 아닌 이야기를 통해 연관된 기능들을 한곳에 묶을 수 있다.
4. 유스케이스는 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다.
5. 유스케이스는 내부 설계와 관련된 정보를 포함하지 않는다.

### 유스케이스는 설계 기법도, 객체지향 기법도 아니다.

## 재료 합치기  : 기능과 구조의 통합
### 도메인 모델, 유스케이스, 그리고 책임-주도 설계
### 기능 변경을 흡수하는 안정적인 구조





