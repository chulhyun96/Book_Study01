## 6. 객체 지도
챕터 6에 들어가기 앞서 저자는 전통적인 소프트웨어 개발 방법에 대해 설명한다.

전통적인 소프트웨어 개발 방법은 **기능 측면의 설계** (변경이 빈번하게 발생하는 기능에 안정적인 구조를 종속시킴)
제품이 사용자를 위해 무엇을 할 수 있는지(**기능**)에 초점을 맞추었다.

객체지향 개발 방법은 **구조 측면의 설계**(안정적인 구조에 기능을 종속시킴)
제품의 형태가 어떠해야 하는지(**구조**)에 초점을 맞추었다.

객체지향은 객체의 구조에 집중하고 기능이 객체의 구조를 따르게 만든다.
시스템 기능은 더 작은 책임으로 분할되고 적절한 객체에게 분배되기 때문에 기능이 변경되더라도
객체 간의 구조는 그대로 유지된다.

### 단어 정의
객체지향 세계를 구축하기 위해서 사용자에게 제공할 `기능`과
기능을 담을 안정적인 `구조`가 필요하다고 저자는 말한다.
그렇다면 `기능`과 `구조`는 무엇인가?

책에서의 기능의 정의

    사용자의 목표를 만족시키기 위해 책임을 수행하는 시스템의 행위
책에서의 구조의 정의

    사용자나 이해관계자들이 도메인에 관해 생각하는 개념과 개념들간의 관계

기능의 정의는 이해했지만 구조의 정의에서 도메인이라는 단어의 뜻을 정확히
몰라서 처음에는 잘 이해하지 못하였다. 

책에서의 도메인의 정의

    사용자가 프로그램을 사용하는 대상 분야

이렇게 들어도 어렵지 않은가?
그래서 나는 도메인의 영단어 뜻이 영역이길래 `해결하고자 하는 문제의 영역`
이라고 정의했다.

그리고 이 기능과 구조를 표현하기 위한 기법이 있는데 이를 각각
`유스케이스 모델링`, `도메인 모델링`이라고 한다.

유스케이스 모델링

    기능을 수집하고 표현하기 위한 기법

도메인 모델링

    구조를 수집하고 표현하기 위한 기법


## 도메인 모델링

간단한 예시로 현실 속의 홀덤 게임을 프로그램으로 만든다면 카드 객체는 스스로 
플랍에 떨어지고, 플레이어에게 2장씩 건네질 것이다. 이처럼
소프트웨어 객체는 현실 객체가 갖지 못한 특성을 가질 수도 있고 현실 객체가 하지 못했던 행동을 할 수도 있다.

이처럼 소프트웨어 객체와 현실 객체 사이의 의미적 거리를 가리켜
`표현적 차이` 또는 `의미적 차이` 라고 한다.

챕터 2에서 말했듯 소프트웨어 객체와 현실 객체 사이의 관계를 
가장 효과적으로 표현할 수 있는 단어는 `은유`이다.
우리는 은유를 통해 현실 객체와 소프트웨어 객체 사이의 차이를 최대한 줄여야 한다.
소프트웨어 객체를 창조하기 위해 우리가 은유해야 하는 대상은 **도메인 모델**이다.
코드는 도메인 모델의 개념과 관계를 은유해야 한다. 그렇게 한다면 소프트웨어를 이해하고 수정하기 쉽게 만들어줄 수 있다.

동일한 용어와 동일한 개념을 이용해 의사소통하고 코드로부터 도메인 모델을 유추할 수 있게 하는 것이
도메인 모델의 진정한 목표다.

도메인 모델은 소프트웨어 구조의 기반을 이룬다. 안정적인 구조를 기반으로 자주 변경되는 기능을 배치함으로써
변경에 유연하게 대응할 수 있는 탄력적인 소프트웨어를 만들 수 있다.

## 유스 케이스
시스템이 사용자에게 기능을 제공하는 이유는 무엇인가?
책에서는 시스템을 통해 달성하고자 하는 **목표**가 존재하기 때문에, 
내 생각은 단순히 불편함을 줄이기 위해서 인 것 같다.

    유스케이스 = 사용자와 시스템 사이의 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것 

**유스케이스의 특성**
1. **텍스트**다. 다이어그램에 시간을 쏟지 말라. 중요한 것은 유스케이스에 담겨져 있는 이야기다.
2. 하나의 시나리오가 아닌 **여러 시나리오의 집합**이다. 미래에 기능이 확장될 여지를 남겨 분기점을 만들어 둘 수 있다.
3. 단순히 기능을 나열하는 것이 아닌 이야기를 통해 연관된 기능들을 **함께** 묶을 수 있다.
4. 사용자 인터페이스와 관련된 **세부 정보를 포함하지 말아야 한다**. 시스템의 행위에 초점을 맞춘다.
5. **내부 설계와 관련된 정보**를 포함하지 않는다.

### 그래서 언제 쓰는데?

유스케이스는 사용자에게 제공할 기능을 시스템의 책임으로 보게 함으로써 객체 간의 안정적인 구조에
책임을 분배할 수 있는 출발점을 제공한다.
도메인 모델은 기능을 수용하기 위해 은유할 수 있는 안정적인 구조를 제공한다.
책임 주도 설계는 유스케이스로부터 첫 번째 메시지와 사용자가 달성하려는 목표를, 도메인 모델로부터
기능을 수용할 수 있는 안정적인 구조를 제공받아 실제로 동작하는 객체들의 협력 공동체를 창조한다.

    유스 케이스 - 도메인 모델 - 책임 주도 설계

### 보고 느낀 것

사실 본인이 `책임 - 주도 설계`로 객체지향을 설계했다면 이 `유스케이스`와
`도메인 모델링`은 설계자 모르게 스스로 하고 있던 것들이다. 이 모든건
유지보수하기 쉽고 유연한 객체지향 시스템을 만들기 위함이다. 