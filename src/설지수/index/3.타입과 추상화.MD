## 3. 타입과 추상화

### 추상화
 Chapter 3에 들어가면서 이 책의 저자는 세계 최초의 지하철이 개통된 이야기를 
 먼저 설명한다(지하철이 왜 생겼는지, 지하철 노선도가 왜 생겼는지). 한번 찾아보기를 추천한다.

지하철은 도시의 팽창과 산업화에 비례해 너무나 복잡한 미로처럼 변해가고 있다.
하지만 사람들이 지하철을 큰 어려움 없이 이용할 수 있는 이유는 지하철 노선도가 있기 때문이다.

초기의 지하철 노선도는 실제와 유사한 물리적인 지형 위에 구불구불한 운행 노선과 불규칙적인
역 간의 거리를 사실적으로 묘사했다. **하지만 때로는 이러한 사실적인 정보가 이용하는
승객들이 노선도를 더 이해하기 어렵게 만들었다.**

우리가 지하철 노선도를 보는 목적은 무엇인가? 지하철을 이용하는 승객의 목적은
어떤 역에서 출발해서 어떤 역에서 환승해야만 **가장 쉽고 빠르게 목적지까지 도착할 수 있는지** 이다.
지하철 노선도는 이를 **직관적으로 단순하게 보여주기 위한 목적**으로 제작된 것이다.

이를 통해 우리는 추상화의 예시 중 하나를 직접 체험했다.
이 책에서 추상화는 어떤 양상,세부 사항,구조를 좀 더 명확하게 이해하기 위해 특정 절차나
물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법이다.

말이 너무 어렵지 않은가?
추상화는 **복잡한 현실을 단순화 하기 위하여 사용하는 인간의 가장 기본적인 인지 수단**이라 저자는 말한다.
한 예시를 들어보자.

대부분의 사람들은 자동차를 간단하게 그려보라는 말을 들으면 떠오른 모양이 있을 것이다. 하지만
자동차들은 너무나도 다양한 생김새와 모델이 있다. 소형, 중형, 트럭, 스포츠카 등등..
그런데 사람들이 떠오른 모양은 대부분 비슷하다. 이것이 추상화다.

    "현상은 복잡하다. 법칙은 단순하다. 버릴 게 무엇인지 알아내라." - 리처드 파인만 

복잡성을 다루기 위해 추상화는 두 차원에서 이뤄진다.

- 첫 번째 차원은 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해
단순하게 만드는 것이다.
- 두 번째 차원은 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써
단순하게 만드는 것이다.

객체지향 패러다임은 객체라는 추상화를 통해 현실의 복잡성을 극복한다.

### 개념
객체지향 패러다임에서의 개념의 정의는 **공통점을 기반으로 객체들을 묶기 위한 그릇**이다.
개념을 이용하면 객체를 여러 그룹으로 분류(classfication)할 수 있다.
객체를 어떤 개념을 적용하는 것이 가능해서 개념 그룹의 일원이 될 때 객체를
그 개념의 **인스턴스(instance)**라 한다. 이 말의 의미를 이해할 때 
이 책이 아닌 김영한 강의에서의 객체와 인스턴스 단어를 설명할 때에 기억이 났다.
아래 코드를 보자.
```java
Student student1 = new Student();
```
자바에서 객체와 인스턴스라는 단어를 유의어로 혼용하여 쓴다. 그 이유는 둘 다
클래스에서 나온 실체라는 의미에서 비슷하게 사용되지만, 용어상 인스턴스는
**객체보다 좀 더 관계에 초점을 맞춘 단어**이다.
보통 위에 코드와 같은 상황에서 "student1은 Student의 객체이다." 라고 말하는 대신
"student1은 Student의 인스턴스이다." 라고 한다.

아무튼 돌아와서 개념에는 세 가지 관점이 있다.
- 심볼 :개념을 가리키는 간략한 이름이나 명칭
- 내연(intension) : 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인
- 외연(extension) : 개념에 속하는 모든 객체의 집합(set)

이 책에서는 이 관점을 앨리스의 이야기로 예시를 들어서 설명하였는데, 그것을
읽고 내가 이해한 이 세가지 관점은 심볼은 클래스의 이름, 내연은 클래스가 가지고 있는
메서드, 외연은 그 클래스들의 집합으로 이해하였다.

### 타입
타입의 정의는 개념의 정의와 완전히 동일하다. 타입은 공통점을 기반으로 객체들을
묶기 위한 틀이다.

그렇다면 타입은 왜 필요한가?

컴퓨터 메모리는 0과 1의 행렬만이 존재한다. 이걸 직접 보면서 그 값이 어떤 의미인지
말할 수 있는 사람은 아무도 없다. 컴퓨터에서 타입이 없다는 말은 메모리 안의 데이터를
다룰 수 있는 타입이 위와 같은 타입으로 단 한 가지만 존재한다는 것을 의미한다.
그래서 사람들은 보다 더 쉽게 해석하기 위해 사람들은 데이터에 특정한 의미를
부여하기 시작하였다(숫자형, 문자열형, 논리형 등).

서서히 프로그래밍 언어 안에서 타입 시스템이 생기기 시작한 것이다. 이 시스템의 목적은
모든 데이터가 비트열로 보임으로써 시작되는 혼란을 방지하기 위함이다. 결국
타입은 데이터가 잘못 사용되지 않도록 제약사항을 부과하는 것이다.

**타입의 특징**
- 1. 타입은 데이터가 어떻게 사용되느냐에 관한 것이다.
- 2. 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰진다.

객체지향 프로그램에서 우리는 객체를 일종의 데이터처럼 사용한다. 객체를
타입에 따라 분류하고 그 타입에 이름을 붙이는 것은 **프로그램에서 사용할 새로운 데이터
타입을 선언하는 것과 같다.**

**객체에서의 타입**
- 1. 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다.
  어떤 객체들이 **동일한 행동을 수행할 수 있다면**, 그 객체들은 동일한 타입으로 분류될 수 있다. 
- 2. 객체의 내부적인 표현은 외부로부터 철저히 감춰진다.

위에 내용을 읽으면 어떠한 객체들의 타입을 결정하는 것은 결국 **행동**이다.
그 객체가 타입에 속한 다른 객체와 동일한 행동을 하기만 하면 된다. 예시를 들어보자.

사람 객체와 원숭이 객체가 있다고 가정하자. 두 객체 다 **컴퓨터 프로그래밍**이라는 행동을 한다고 가정해보겠다.
만약 그렇다면 사람 객체와 원숭이 객체는 **같은 타입**인 것이다.

하지만 원숭이가 컴퓨터 프로그래밍이라는 행동을 한다면 그냥 컴퓨터를 두들기는 행위밖에
없을 것이다. 하지만 사람 객체는 똑같은 행동을 할 때 어플리케이션을 창조하거나 게임을 할 수 있을 것이다.

이렇게 동일한 메시지를 받더라도 객체 내부의 데이터 표현 방식이 서로 다를 수밖에 없다.
이것이 **다형성**에 의미를 부여한다. 훌륭한 객체지향 설계는 외부에 행동만을 제공하고
데이터는 행동 뒤로 감춰야 한다. 이 원칙을 흔히 **캡슐화**라고 한다.

### 일반화/특수화 관계
이 책에서는 일반화 특수화 관계를 앨리스가 트럼프 왕자,왕비,신하 등등을
바라보는 이야기를 예시로 들어 설명했다. 이것을 코드로 써보겠다.
```java
package 설지수.chapter3;

public abstract class Trump {
    void 납작엎드리다() {
        System.out.println("납작 엎드리기");
    }
    void 뒤집어지다(){
        System.out.println("뒤집어지기");
    }

}

 // -------------------------

public class TrumpHuman extends Trump{

    @Override
    void 납작엎드리다() {
        super.납작엎드리다();
    }

    @Override
    void 뒤집어지다() {
        super.뒤집어지다();
    }

    void 걷다(){
        System.out.println("걸을 때 몸이 종이처럼 좌우로 펄럭인다.");
    }
}

```
앨리스의 이야기에서 앨리스는 트럼프 인간들을 트럼프로 **일반화**하여 본다.
더 일반적이라는 말은 더 포괄적이라는 의미를 내포하기 때문에 트럼프는 트럼프 인간에
속하는 객체를 포함한다.

일반화 특수화 관계는 수학에서의 집합을 배웠다면 쉽게 이해할거라 생각한다.
**일반화는 추상화를 위한 도구**다.

### 타입의 목적
객체지향에서의 타입의 목적은 인간의 인지 능력으로는 
**시간에 따라 동적으로 변하는 객체의 복잡성을 극복하기가 너무 어렵기 때문**이라고 한다.
(잘 모르겠다. 더 공부해봐야 할듯?)

### 동적 모델과 정적 모델

스냅샷(빠른 사진) : 객체가 특정 시점에 구체적으로 어떤 상태를 가지느냐

UML 다이어그램에서 스냅샷은 객체 다이어그램이다.

- 동적 모델 : 객체가 **살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지**를
 포착하는 것.
- 정적 모델(타입 모델) : **객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것**
  (UML 다이어그램을 찾아보니 객체를 클래스,오브젝트,컴포넌트 등등으로 표현하는 것을 정적 모델링이라 함. 클래스 다이어그램을
  예시로 들면 이름,속성,메서드를 정의한 것? 절대 변하지 않는 것을 정의한 것을 정적 모델이라 하는 듯)

### 클래스
객체지향 프로그래밍 언어에서 정적인 모델은 클래스를 이용해 구현된다.
클래스와 타입은 동일한 것이 아니다. 클래스는 단지 타입을 구현할 수 있는 여러 구현 매커니즘 중 하나일 뿐이다.
(이 말의 의미를 이해하기 어려운데 아마 UML 다이어그램에서 정적 모델링을 클래스,오브젝트 등등 많은 것들로 표현할 수 있기 때문?)

**객체를 분류하는 기준은 타입이며, 타입을 나누는 기준은 객체가 수행하는 행동이다.**
프로그래밍 언어를 이용해 타입을 구현할 수 있는 방법 중 한 가지가 클래스라는 사실을 기억해라.


